
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>bayesflow.simulation module &#8212; BayesFlow: Amortized Bayesian Inference</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=8fec244e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/bayesflow.simulation';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://www.bayesflow.org/api/bayesflow.simulation.html" />
    <link rel="icon" href="../_static/bayesflow_hex.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bayesflow.summary_networks module" href="bayesflow.summary_networks.html" />
    <link rel="prev" title="bayesflow.sensitivity module" href="bayesflow.sensitivity.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/bayesflow_hex.png" class="logo__image only-light" alt="BayesFlow: Amortized Bayesian Inference - Home"/>
    <img src="../_static/bayesflow_hex.png" class="logo__image only-dark pst-js-only" alt="BayesFlow: Amortized Bayesian Inference - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">BayesFlow</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples.html">Examples</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Intro_Amortized_Posterior_Estimation.html">1. Quickstart: Amortized Posterior Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/TwoMoons_Bimodal_Posterior.html">2. Two Moons: Tackling Bimodal Posteriors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Model_Misspecification.html">3. Detecting Model Misspecification in Amortized Posterior Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/LCA_Model_Posterior_Estimation.html">4. Principled Amortized Bayesian Workflow for Cognitive Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Linear_ODE_system.html">5. Posterior Estimation for ODEs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Covid19_Initial_Posterior_Estimation.html">6. Posterior Estimation for SIR-like Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Model_Comparison_MPT.html">7. Model Comparison for Cognitive Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_examples/Hierarchical_Model_Comparison_MPT.html">8. Hierarchical Model Comparison for Cognitive Models</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="bayesflow.html">Public API: bayesflow package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="bayesflow.benchmarks.html">bayesflow.benchmarks package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.bernoulli_glm.html">bayesflow.benchmarks.bernoulli_glm module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.bernoulli_glm_raw.html">bayesflow.benchmarks.bernoulli_glm_raw module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.gaussian_linear.html">bayesflow.benchmarks.gaussian_linear module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.gaussian_linear_uniform.html">bayesflow.benchmarks.gaussian_linear_uniform module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.gaussian_mixture.html">bayesflow.benchmarks.gaussian_mixture module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.inverse_kinematics.html">bayesflow.benchmarks.inverse_kinematics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.lotka_volterra.html">bayesflow.benchmarks.lotka_volterra module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.sir.html">bayesflow.benchmarks.sir module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.slcp.html">bayesflow.benchmarks.slcp module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.slcp_distractors.html">bayesflow.benchmarks.slcp_distractors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.benchmarks.two_moons.html">bayesflow.benchmarks.two_moons module</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.amortizers.html">bayesflow.amortizers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.attention.html">bayesflow.attention module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.coupling_networks.html">bayesflow.coupling_networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.diagnostics.html">bayesflow.diagnostics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.inference_networks.html">bayesflow.inference_networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.losses.html">bayesflow.losses module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.networks.html">bayesflow.networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.sensitivity.html">bayesflow.sensitivity module</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">bayesflow.simulation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.summary_networks.html">bayesflow.summary_networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.trainers.html">bayesflow.trainers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.configuration.html">bayesflow.configuration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.default_settings.html">bayesflow.default_settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.computational_utilities.html">bayesflow.computational_utilities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.helper_classes.html">bayesflow.helper_classes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.helper_functions.html">bayesflow.helper_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.helper_networks.html">bayesflow.helper_networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.exceptions.html">bayesflow.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.mcmc.html">bayesflow.mcmc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.version.html">bayesflow.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bayesflow.wrappers.html">bayesflow.wrappers module</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="bayesflow.experimental.html">bayesflow.experimental package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="bayesflow.experimental.rectifiers.html">bayesflow.experimental.rectifiers module</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Full Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About us</a></li>
</ul>

    </div>
</nav></div>
        <div class="sidebar-primary-item">
<div class="rst-versions">
   
  <p class="caption" aria-level="2" role="heading"><span class="caption-text">Tags</span></p>
  <ul>
      <li><a href="/v1.1.6/index.html" >v1.1.6</a></li>
      <li><a href="/v1.1.5/index.html" >v1.1.5</a></li>
      <li><a href="/v1.1.4/index.html" >v1.1.4</a></li>
      <li><a href="/v1.1.3/index.html" class="current">v1.1.3</a></li>
      <li><a href="/v1.1.2/index.html" >v1.1.2</a></li>
  </ul>
  
   
  <p class="caption" aria-level="2" role="heading"><span class="caption-text">Branches</span></p>
  <ul>
      <li><a href="/dev/index.html" >dev</a></li>
      <li><a href="/master/index.html" >master</a></li>
  </ul>
  
</div>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/bayesflow-org/bayesflow" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/bayesflow-org/bayesflow/edit/master/api/bayesflow.simulation.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/bayesflow-org/bayesflow/issues/new?title=Issue%20on%20page%20%2Fapi/bayesflow.simulation.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/api/bayesflow.simulation.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>bayesflow.simulation module</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator"><code class="docutils literal notranslate"><span class="pre">ContextGenerator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.__call__"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.batchable_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.batchable_context()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.non_batchable_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.non_batchable_context()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.generate_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.generate_context()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior"><code class="docutils literal notranslate"><span class="pre">Prior</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.__init__"><code class="docutils literal notranslate"><span class="pre">Prior.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.__call__"><code class="docutils literal notranslate"><span class="pre">Prior.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.plot_prior2d"><code class="docutils literal notranslate"><span class="pre">Prior.plot_prior2d()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.estimate_means_and_stds"><code class="docutils literal notranslate"><span class="pre">Prior.estimate_means_and_stds()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.logpdf"><code class="docutils literal notranslate"><span class="pre">Prior.logpdf()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.__init__"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.__call__"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_hyper_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_hyper_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_local_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_local_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_shared_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_shared_parameters()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator"><code class="docutils literal notranslate"><span class="pre">Simulator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator.__init__"><code class="docutils literal notranslate"><span class="pre">Simulator.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator.__call__"><code class="docutils literal notranslate"><span class="pre">Simulator.__call__()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel"><code class="docutils literal notranslate"><span class="pre">GenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.plot_pushforward"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.plot_pushforward()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.presimulate_and_save"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.presimulate_and_save()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel.__call__()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel.__call__()</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-bayesflow.simulation">
<span id="bayesflow-simulation-module"></span><h1>bayesflow.simulation module<a class="headerlink" href="#module-bayesflow.simulation" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">ContextGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batchable_context_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_batchable_context_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_non_batchable_for_batchable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a simulation module responsible for generating variables over which
we want to amortize during simulation-based training, but do not want to perform inference on.
Both priors and simulators in a generative framework can have their own context generators,
depending on the particular modeling goals.</p>
<p>The interface distinguishes between two types of context: batchable and non-batchable.</p>
<ul class="simple">
<li><p>Batchable context variables differ for each simulation in each training batch</p></li>
<li><p>Non-batchable context varibales stay the same for each simulation in a batch, but differ across batches</p></li>
</ul>
<p>Examples for batchable context variables include experimental design variables, design matrices, etc.
Examples for non-batchable context variables include the number of observations in an experiment, positional
encodings, time indices, etc.</p>
<p>While the latter can also be considered batchable in principle, batching them would require non-Tensor
(i.e., non-rectangular) data structures, which usually means inefficient computations.</p>
<p class="rubric">Examples</p>
<p>Example for a simulation context which will generate a random number of observations between 1 and 100 for
each training batch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span> <span class="o">=</span> <span class="n">ContextGenerator</span><span class="p">(</span><span class="n">non_batchable_context_fun</span><span class="o">=</span><span class="k">lambda</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batchable_context_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_batchable_context_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_non_batchable_for_batchable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a context generator responsible for random generation of variables which vary from data set
to data set but cannot be considered data or parameters, e.g., time indices, number of observations, etc.
A batchable, non-batchable, or both context functions should be provided to the constructor. An optional
argument dictates whether the outputs of the non-batchable context function should be used as inputs to
batchable context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batchable_context_fun</strong><span class="classifier">callable</span></dt><dd><p>A function with optional control arguments responsible for generating per-simulation set context variables</p>
</dd>
<dt><strong>non_batchable_context_fun</strong><span class="classifier">callable</span></dt><dd><p>A function with optional control arguments responsible for generating per-batch-of-simulations context variables.</p>
</dd>
<dt><strong>use_non_batchable_for_batchable</strong><span class="classifier">bool, optional, default: False</span></dt><dd><p>Determines whether to use output of non_batchable_context_fun as input to batchable_context_fun. Only relevant
when both context types are provided.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator.__call__" title="Link to this definition">#</a></dt>
<dd><p>Wraps the method generate_context, which returns a dictionary with
batchable and non batchable context.</p>
<p>Optional positional and keyword arguments are passed to the internal
context-generating functions or ignored if the latter are None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_size</strong><span class="classifier">int</span></dt><dd><p>The batch_size argument used for batchable context.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>context_dict</strong><span class="classifier">dictionary</span></dt><dd><p>A dictionary with context variables with the following keys:
<code class="docutils literal notranslate"><span class="pre">batchable_context</span></code> : value
<code class="docutils literal notranslate"><span class="pre">non_batchable_context</span></code> : value</p>
</dd>
<dt>Note, that the values of the context variables will be None, if the</dt><dd></dd>
<dt>corresponding context-generating functions have not been provided when</dt><dd></dd>
<dt>initializing this object.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator.batchable_context">
<span class="sig-name descname"><span class="pre">batchable_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator.batchable_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator.batchable_context" title="Link to this definition">#</a></dt>
<dd><p>Generates ‘batch_size’ context variables given optional arguments.
Return type is a list of context variables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator.non_batchable_context">
<span class="sig-name descname"><span class="pre">non_batchable_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator.non_batchable_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator.non_batchable_context" title="Link to this definition">#</a></dt>
<dd><p>Generates a context variable shared across simulations in a given batch, given optional arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.ContextGenerator.generate_context">
<span class="sig-name descname"><span class="pre">generate_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#ContextGenerator.generate_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.ContextGenerator.generate_context" title="Link to this definition">#</a></dt>
<dd><p>Creates a dictionary with batchable and non batchable context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_size</strong><span class="classifier">int</span></dt><dd><p>The batch_size argument used for batchable context.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>context_dict</strong><span class="classifier">dictionary</span></dt><dd><p>A dictionary with context variables with the following keys, if default keys not changed:
<code class="docutils literal notranslate"><span class="pre">batchable_context</span></code> : value
<code class="docutils literal notranslate"><span class="pre">non_batchable_context</span></code> : value</p>
</dd>
<dt>Note, that the values of the context variables will be <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the</dt><dd></dd>
<dt>corresponding context-generating functions have not been provided when</dt><dd></dd>
<dt>initializing this object.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">Prior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a simulation module responsible for generating random draws from a
prior distribution.</p>
<p>The prior functions should return a np.array of simulation parameters which will be internally used
by the GenerativeModel interface for simulations.</p>
<p>An optional context generator (i.e., an instance of ContextGenerator) or a user-defined callable object
implementing the following two methods can be provided:
- context_generator.batchable_context(batch_size)
- context_generator.non_batchable_context()</p>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a prior generator which will draw random parameter configurations from a user-informed prior
distribution. No improper priors are allowed, as these may render the generative scope of a model undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_prior_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callbale object) with optional control arguments responsible for generating batches
of per-simulation parameters.</p>
</dd>
<dt><strong>prior_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callbale object) with optional control arguments responsible for generating
per-simulation parameters.</p>
</dd>
<dt><strong>context generator</strong><span class="classifier">callable, optional, (default None, recommended instance of ContextGenerator)</span></dt><dd><p>An optional function (ideally an instance of ContextGenerator) for generating prior context variables.</p>
</dd>
<dt><strong>param_names</strong><span class="classifier">list of str, optional, (default None)</span></dt><dd><p>A list with strings representing the names of the parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior.__call__" title="Link to this definition">#</a></dt>
<dd><p>Generates <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> draws from the prior given optional context generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_size</strong><span class="classifier">int</span></dt><dd><p>The number of draws to obtain from the prior + context generator functions.</p>
</dd>
<dt><strong>*args</strong><span class="classifier">tuple</span></dt><dd><p>Optional positional arguments passed to the generator functions.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Optional keyword arguments passed to the generator functions.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>out_dict - a dictionary with the quantities generated from the prior + context funcitons.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior.plot_prior2d">
<span class="sig-name descname"><span class="pre">plot_prior2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior.plot_prior2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior.plot_prior2d" title="Link to this definition">#</a></dt>
<dd><p>Generates a 2D plot representing bivariate prior ditributions. Uses the function
<code class="docutils literal notranslate"><span class="pre">bayesflow.diagnostics.plot_prior2d()</span></code> internally for generating the plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Optional keyword arguments passed to the <code class="docutils literal notranslate"><span class="pre">plot_prior2d</span></code> function.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>f</strong><span class="classifier">plt.Figure - the figure instance for optional saving</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior.estimate_means_and_stds">
<span class="sig-name descname"><span class="pre">estimate_means_and_stds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_draws</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior.estimate_means_and_stds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior.estimate_means_and_stds" title="Link to this definition">#</a></dt>
<dd><p>Estimates prior means and stds given n_draws from the prior, useful
for z-standardization of the prior draws.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n_draws: int, optional (default = 1000)</strong></dt><dd><p>The number of random draws to obtain from the joint prior.</p>
</dd>
<dt><strong>*args</strong><span class="classifier">tuple</span></dt><dd><p>Optional positional arguments passed to the generator functions.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Optional keyword arguments passed to the generator functions.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>(prior_means, prior_stds) - tuple of np.ndarrays</dt><dd><p>The estimated means and stds of the joint prior.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Prior.logpdf">
<span class="sig-name descname"><span class="pre">logpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prior_draws</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Prior.logpdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Prior.logpdf" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">TwoLevelPrior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyper_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_context_generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a simulation module responsible for generating random draws from a
two-level prior distribution.</p>
<p>The prior functions should return a np.array of simulation parameters which will be internally used
by the TwoLevelGenerativeModel interface for simulations.</p>
<p>An optional context generator (i.e., an instance of ContextGenerator) or a user-defined callable object
implementing the following two methods can be provided:
- <code class="docutils literal notranslate"><span class="pre">context_generator.batchable_context(batch_size)</span></code>
- <code class="docutils literal notranslate"><span class="pre">context_generator.non_batchable_context()</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyper_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_prior_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_context_generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a prior generator which will draw random parameter configurations from a joint prior
having the general form:</p>
<p><code class="docutils literal notranslate"><span class="pre">p(local</span> <span class="pre">|</span> <span class="pre">hyper)</span> <span class="pre">p(hyper)</span> <span class="pre">p(shared)</span></code></p>
<p>Such priors are often encountered in two-level hierarchical Bayesian models and allow for modeling
nested data.
No improper priors are allowed, as these may render the generative scope of a model undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hyper_prior_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callbale object) which generates random draws from a hyperprior (unconditional)</p>
</dd>
<dt><strong>local_prior_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callable object) which generates random draws from a conditional prior
given hyperparameters sampled from the hyperprior and optional context (e.g., variable number of groups)</p>
</dd>
<dt><strong>shared_prior_fun</strong><span class="classifier">callable or None, optional, default: None</span></dt><dd><p>A function (callable object) which generates random draws from an uncondtional prior.
Represents optional shared parameters.</p>
</dd>
<dt><strong>local_context_generator</strong><span class="classifier">callable or None, optional, default: None</span></dt><dd><p>An optional function (ideally an instance of <code class="docutils literal notranslate"><span class="pre">ContextGenerator</span></code>) for generating control variables
for the local_prior_fun.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Varying number of local factors (e.g., groups, participants) between 1 and 100:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw_hyper</span><span class="p">():</span>
    <span class="c1"># Draw location for 2D conditional prior</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw_prior</span><span class="p">(</span><span class="n">means</span><span class="p">,</span> <span class="n">num_groups</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
    <span class="c1"># Draw parameter given location from hyperprior</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">means</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">means</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">num_groups</span><span class="p">,</span> <span class="n">dim</span><span class="p">))</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">ContextGenerator</span><span class="p">(</span><span class="n">non_batchable_context_fun</span><span class="o">=</span><span class="k">lambda</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">))</span>
<span class="n">prior</span> <span class="o">=</span> <span class="n">TwoLevelPrior</span><span class="p">(</span><span class="n">draw_hyper</span><span class="p">,</span> <span class="n">draw_prior</span><span class="p">,</span> <span class="n">local_context_generator</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
<span class="n">prior_dict</span> <span class="o">=</span> <span class="n">prior</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior.__call__" title="Link to this definition">#</a></dt>
<dd><p>Generates <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> draws from the hierarchical prior.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior.draw_hyper_parameters">
<span class="sig-name descname"><span class="pre">draw_hyper_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior.draw_hyper_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior.draw_hyper_parameters" title="Link to this definition">#</a></dt>
<dd><p>TODO</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior.draw_local_parameters">
<span class="sig-name descname"><span class="pre">draw_local_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hypers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchable_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_batchable_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior.draw_local_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior.draw_local_parameters" title="Link to this definition">#</a></dt>
<dd><p>TODO</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelPrior.draw_shared_parameters">
<span class="sig-name descname"><span class="pre">draw_shared_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelPrior.draw_shared_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelPrior.draw_shared_parameters" title="Link to this definition">#</a></dt>
<dd><p>TODO</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.Simulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">Simulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_simulator_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Simulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Simulator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a simulation module responsible for generating randomized simulations given a prior
parameter distribution and optional context variables, given a user-provided simulation function.</p>
<p>The user-provided simulator functions should return a np.array of synthetic data which will be used internally
by the GenerativeModel interface for simulations.</p>
<p>An optional context generator (i.e., an instance of ContextGenerator) or a user-defined callable object
implementing the following two methods can be provided:
- <code class="docutils literal notranslate"><span class="pre">context_generator.batchable_context(batch_size)</span></code>
- <code class="docutils literal notranslate"><span class="pre">context_generator.non_batchable_context()</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Simulator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_simulator_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Simulator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Simulator.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a data generator which will perform randomized simulations given a set of parameters and optional context.
Either a <code class="docutils literal notranslate"><span class="pre">batch_simulator_fun</span></code> or <code class="docutils literal notranslate"><span class="pre">simulator_fun</span></code>, but not both, should be provided to instantiate a <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> object.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">batch_simulator_fun</span></code> is provided, the interface will assume that the function operates on batches of parameter
vectors and context variables and will pass the latter directly to the function. Power users should attempt to provide
optimized batched simulators.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">simulator_fun</span></code> is provided, the interface will assume thatthe function operates on single parameter vectors and
context variables and will wrap the simulator internally to allow batched functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_simulator_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callbale object) with optional control arguments responsible for generating a batch of simulations
given a batch of parameters and optional context variables.</p>
</dd>
<dt><strong>simulator_fun</strong><span class="classifier">callable</span></dt><dd><p>A function (callable object) with optional control arguments responsible for generating a simulaiton given
a single parameter vector and optional variables.</p>
</dd>
<dt><strong>context_generator</strong><span class="classifier">callable (default None, recommended instance of ContextGenerator)</span></dt><dd><p>An optional function (ideally an instance of <code class="docutils literal notranslate"><span class="pre">ContextGenerator</span></code>) for generating prior context variables.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.Simulator.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#Simulator.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.Simulator.__call__" title="Link to this definition">#</a></dt>
<dd><p>Generates simulated data given param draws and optional context variables generated internally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params</strong><span class="classifier">np.ndarray of shape (n_sim, …) - the parameter draws obtained from the prior.</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out_dict</strong><span class="classifier">dictionary</span></dt><dd><p>An output dictionary with randomly simulated variables, the following keys are mandatory, if default keys not modified:
<code class="docutils literal notranslate"><span class="pre">sim_data</span></code> : value
<code class="docutils literal notranslate"><span class="pre">non_batchable_context</span></code> : value
<code class="docutils literal notranslate"><span class="pre">batchable_context</span></code> : value</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.GenerativeModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">GenerativeModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'anonymous'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#GenerativeModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.GenerativeModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a generative model in a simulation-based context.
Generally, a generative model consists of two mandatory components:</p>
<ul class="simple">
<li><p>Prior : A randomized function returning random parameter draws from a prior distribution;</p></li>
<li><p>Simulator : A function which transforms the parameters into observables in a non-deterministic manner.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.GenerativeModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'anonymous'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#GenerativeModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.GenerativeModel.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a generative model responsible for drawing generating params, data, and optional context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prior</strong><span class="classifier">callable or bayesflow.simulation.Prior</span></dt><dd><p>A function returning random draws from the prior parameter distribution. Should encode
prior knowledge about plausible parameter ranges</p>
</dd>
<dt><strong>simulator</strong><span class="classifier">callable or bayesflow.simulation.Simulator</span></dt><dd><p>A function accepting parameter draws, optional context, and optional arguments as input
and returning obseravble data</p>
</dd>
<dt><strong>skip_test</strong><span class="classifier">bool, optional, default: False</span></dt><dd><p>If True, a forward inference pass will be performed.</p>
</dd>
<dt><strong>prior_is_batched</strong><span class="classifier">bool, optional, default: False</span></dt><dd><p>Only relevant and mandatory if providing a custom prior without the <code class="docutils literal notranslate"><span class="pre">Prior</span></code> wrapper.</p>
</dd>
<dt><strong>simulator_is_batched</strong><span class="classifier">bool or None, optional, default: None</span></dt><dd><p>Only relevant and mandatory if providing a custom simulator without he <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> wrapper.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str (default - “anonoymous”)</span></dt><dd><p>An optional name for the generative model. If kept default (None), ‘anonymous’ is set as name.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If you are not using the provided <code class="docutils literal notranslate"><span class="pre">Prior</span></code> and <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> wrappers for your prior and data generator,
only functions returning a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> in the correct format will be accepted, since these will be
wrapped internally. In addition, you need to indicate whether your simulator operates on batched of
parameters or on single parameter vectors via tha <cite>simulator_is_batched</cite> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.GenerativeModel.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#GenerativeModel.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.GenerativeModel.__call__" title="Link to this definition">#</a></dt>
<dd><p>Carries out forward inference <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> times.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.GenerativeModel.plot_pushforward">
<span class="sig-name descname"><span class="pre">plot_pushforward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_draws</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcs_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcs_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_raw_sims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#GenerativeModel.plot_pushforward"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.GenerativeModel.plot_pushforward" title="Link to this definition">#</a></dt>
<dd><p>Creates simulations from <code class="docutils literal notranslate"><span class="pre">parameter_draws</span></code> (generated from <code class="docutils literal notranslate"><span class="pre">self.prior</span></code> if they are not passed as
an argument) and plots visualizations for them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>parameter_draws</strong><span class="classifier">np.ndarray of shape (batch_size, num_parameters)</span></dt><dd><p>A sample of parameters. May be drawn from either the prior (which is also the default behavior if no input is specified)
or from the posterior to do a prior/posterior pushforward.</p>
</dd>
<dt><strong>funcs_list</strong><span class="classifier">list of callable</span></dt><dd><p>A list of functions that can be used to aggregate simulation data (map a single simulation to a single real value).
The default behavior without user input is to use numpy’s mean and standard deviation functions.</p>
</dd>
<dt><strong>funcs_labels</strong><span class="classifier">list of str</span></dt><dd><p>A list of labels for the functions in funcs_list.
The default behavior without user input is to call the functions “Aggregator function 1, Aggregator function 2, etc.”</p>
</dd>
<dt><strong>batch_size</strong><span class="classifier">int</span></dt><dd><p>The number of prior draws to generate (and then create and visualizes simulations from)</p>
</dd>
<dt><strong>show_raw_sims</strong><span class="classifier">bool</span></dt><dd><p>Flag determining whether or not a plot of 49 raw (i.e. unaggregated) simulations is generated.
Useful for very general data exploration.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>A dictionary with the following keys:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>parameter_draws<span class="classifier">np.ndarray</span></dt><dd><p>The parameters provided by the user or generated internally.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>simulations<span class="classifier">np.ndarray</span></dt><dd><p>The simulations generated from parameter_draws (or prior draws generated on the fly)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>aggregated_data<span class="classifier">list of np.ndarray</span></dt><dd><p>Arrays generated from the simulations with the functions in funcs_list</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.GenerativeModel.presimulate_and_save">
<span class="sig-name descname"><span class="pre">presimulate_and_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations_per_epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_from</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_user_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#GenerativeModel.presimulate_and_save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.GenerativeModel.presimulate_and_save" title="Link to this definition">#</a></dt>
<dd><p>Simulates a dataset for single-pass offline training (called via the train_from_presimulation method
of the Trainer class in the trainers.py script).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batch_size</strong><span class="classifier">int</span></dt><dd><p>Number of simulations which will be used in each backprop step of training.</p>
</dd>
<dt><strong>folder_path</strong><span class="classifier">str</span></dt><dd><p>The folder in which to save the presimulated data.</p>
</dd>
<dt><strong>total_iterations</strong><span class="classifier">int or None, optional, default: None</span></dt><dd><p>Total number of iterations to perform during training. If total_iterations divided by epochs is not an integer, it
will be increased so that said division does result in an integer.</p>
</dd>
<dt><strong>memory_limit</strong><span class="classifier">int or None, optional, default: None</span></dt><dd><p>Upper bound on the size of individual files (in Mb); can be useful to avoid running out of RAM during training.</p>
</dd>
<dt><strong>iterations_per_epoch</strong><span class="classifier">int or None, optional, default: None</span></dt><dd><p>Number of batch simulations to perform per epoch file. If <code class="docutils literal notranslate"><span class="pre">iterations_per_epoch</span></code> batches per file lead to files
exceeding the memory_limit, <code class="docutils literal notranslate"><span class="pre">iterations_per_epoch</span></code> will be lowered so that the memory_limit can be enforced.</p>
</dd>
<dt><strong>epochs</strong><span class="classifier">int or None, optional, default: None</span></dt><dd><p>Number of epoch files to generate. A higher number will be generated if the memory_limit for individual files requires it.</p>
</dd>
<dt><strong>extend_from</strong><span class="classifier">int, optional, default: 0</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">folder_path</span></code> already contains simulations and the user wishes to add further simulations to these,
extend_from must provide the number of the last presimulation file in <code class="docutils literal notranslate"><span class="pre">folder_path</span></code>.</p>
</dd>
<dt><strong>disable_user_input: bool, optional, default: False</strong></dt><dd><p>If True, user will not be asked if memory space is sufficient for presimulation.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>One of the following pairs of parameters has to be provided:</p>
<ul class="simple">
<li><p>(iterations_per_epoch, epochs),</p></li>
<li><p>(total_iterations, iterations_per_epoch)</p></li>
<li><p>(total_iterations, epochs)</p></li>
</ul>
<p>Providing all three of the parameters in these pairs leads to a consistency check,
since incompatible combinations are possible.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelGenerativeModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">TwoLevelGenerativeModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'anonymous'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelGenerativeModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelGenerativeModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for a generative model in a simulation-based context.</p>
<p>Generally, a generative model consists of two mandatory components:
- MultilevelPrior : A randomized function returning random parameter draws from a two-level prior distribution;
- Simulator : A function which transforms the parameters into observables in a non-deterministic manner.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelGenerativeModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_is_batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'anonymous'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelGenerativeModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelGenerativeModel.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a generative model responsible for generating parameters, data, and optional context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prior</strong><span class="classifier">callable</span></dt><dd><p>A function returning random draws from the two-level prior parameter distribution. Should encode
prior knowledge about plausible parameter ranges</p>
</dd>
<dt><strong>simulator</strong><span class="classifier">callable or bayesflow.simulation.Simulator</span></dt><dd><p>A function accepting parameter draws, shared parameters, optional context, and optional arguments as input
and returning observable data</p>
</dd>
<dt><strong>skip_test</strong><span class="classifier">bool, optional, default: False</span></dt><dd><p>If True, a forward inference pass will be performed.</p>
</dd>
<dt><strong>simulator_is_batched</strong><span class="classifier">bool or None, optional, default: None</span></dt><dd><p>Only relevant and mandatory if providing a custom simulator without the <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> wrapper.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str (default - “anonymous”)</span></dt><dd><p>An optional name for the generative model.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If you are not using the provided <code class="docutils literal notranslate"><span class="pre">TwoLevelPrior</span></code> and <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> wrappers for your prior and data
generator, only functions returning a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> in the correct format will be accepted, since these will be
wrapped internally. In addition, you need to indicate whether your simulator operates on batched of
parameters or on single parameter vectors via tha <cite>simulator_is_batched</cite> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.TwoLevelGenerativeModel.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#TwoLevelGenerativeModel.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.TwoLevelGenerativeModel.__call__" title="Link to this definition">#</a></dt>
<dd><p>Carries out forward inference <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> times.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bayesflow.simulation.MultiGenerativeModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bayesflow.simulation.</span></span><span class="sig-name descname"><span class="pre">MultiGenerativeModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generative_models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_probs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_context_gen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#MultiGenerativeModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.MultiGenerativeModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic interface for multiple generative models in a simulation-based context.
A <code class="docutils literal notranslate"><span class="pre">MultiveGenerativeModel</span></code> instance consists of a list of <code class="docutils literal notranslate"><span class="pre">GenerativeModel</span></code> instances
and a prior distribution over candidate models defined by a list of probabilities.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.MultiGenerativeModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generative_models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_probs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_context_gen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#MultiGenerativeModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.MultiGenerativeModel.__init__" title="Link to this definition">#</a></dt>
<dd><p>Instantiates a multi-generative model responsible for generating parameters, data, and optional context
from a list of models according to specified prior model probabilities (PMPs).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>generative_models</strong><span class="classifier">list of GenerativeModel instances</span></dt><dd><p>The list of candidate generative models</p>
</dd>
<dt><strong>model_probs</strong><span class="classifier">string (default - ‘equal’) or list of floats with sum(model_probs) == 1.</span></dt><dd><p>The list of model probabilities, should have the same length as the list of
generative models. Note, that probabilities should sum to one.</p>
</dd>
<dt><strong>shared_context_gen</strong><span class="classifier">callable or None, optional, default: None</span></dt><dd><p>An optional function to generate context variables shared across
all models and simulations in a given batch.</p>
<p>For instance, if the number of observations in a data set should
vary during training, you need to pass the shared context to the <code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel</span></code>,
and not the individual <code class="docutils literal notranslate"><span class="pre">GenerativeModels</span></code>, as the latter will result in unequal numbers
of observations across the models in a single batch.</p>
<p>Important: This function should return a dictionary with keys corresponding to the function
arguments expected by the simulators.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bayesflow.simulation.MultiGenerativeModel.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesflow/simulation.html#MultiGenerativeModel.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bayesflow.simulation.MultiGenerativeModel.__call__" title="Link to this definition">#</a></dt>
<dd><p>Generates a total of <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> simulations from all models.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="bayesflow.sensitivity.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">bayesflow.sensitivity module</p>
      </div>
    </a>
    <a class="right-next"
       href="bayesflow.summary_networks.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">bayesflow.summary_networks module</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator"><code class="docutils literal notranslate"><span class="pre">ContextGenerator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.__call__"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.batchable_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.batchable_context()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.non_batchable_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.non_batchable_context()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.ContextGenerator.generate_context"><code class="docutils literal notranslate"><span class="pre">ContextGenerator.generate_context()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior"><code class="docutils literal notranslate"><span class="pre">Prior</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.__init__"><code class="docutils literal notranslate"><span class="pre">Prior.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.__call__"><code class="docutils literal notranslate"><span class="pre">Prior.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.plot_prior2d"><code class="docutils literal notranslate"><span class="pre">Prior.plot_prior2d()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.estimate_means_and_stds"><code class="docutils literal notranslate"><span class="pre">Prior.estimate_means_and_stds()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Prior.logpdf"><code class="docutils literal notranslate"><span class="pre">Prior.logpdf()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.__init__"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.__call__"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_hyper_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_hyper_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_local_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_local_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelPrior.draw_shared_parameters"><code class="docutils literal notranslate"><span class="pre">TwoLevelPrior.draw_shared_parameters()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator"><code class="docutils literal notranslate"><span class="pre">Simulator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator.__init__"><code class="docutils literal notranslate"><span class="pre">Simulator.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.Simulator.__call__"><code class="docutils literal notranslate"><span class="pre">Simulator.__call__()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel"><code class="docutils literal notranslate"><span class="pre">GenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.__call__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.plot_pushforward"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.plot_pushforward()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.GenerativeModel.presimulate_and_save"><code class="docutils literal notranslate"><span class="pre">GenerativeModel.presimulate_and_save()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.TwoLevelGenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">TwoLevelGenerativeModel.__call__()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel.__init__"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesflow.simulation.MultiGenerativeModel.__call__"><code class="docutils literal notranslate"><span class="pre">MultiGenerativeModel.__call__()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The BayesFlow authors
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, BayesFlow authors (lead maintainer: Stefan T. Radev).
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>